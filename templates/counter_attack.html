{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°˜ê²©í•˜ê¸°</title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="{% static 'css/game.css' %}">
    <link rel="stylesheet" href="https://webfontworld.github.io/tmoney/TmoneyRoundWind.css">
</head>
<style>
    /* ë¼ë””ì˜¤ ë²„íŠ¼ì„ ìˆ¨ê¹ë‹ˆë‹¤ */
    input[type="radio"] {
        display: none;
    }
</style>
<body>

<header>
    <div>
        <a href="/" style="text-decoration: none; color: white">
            <h1 class="floating">ğŸ•¹ï¸ ê²Œì„ ì‹œì‘ ğŸ‡</h1>
        </a>
    </div>
    <nav id="main-nav">
        <a href="{% url 'games:main' %}" class="btn">í™ˆ</a>
        <a href="{% url 'games:game_attack' %}" class="btn">ê²Œì„ ì‹œì‘</a>
        <a href="{% url 'games:game_list' %}" class="btn">ê²Œì„ ì „ì </a>
        <a href="{% url 'games:game_rank' %}" class="btn">ë­í‚¹</a>
        <a href="{% url 'users:logout' %}" class="btn" onclick="GameApp.logout(); return false;">ë¡œê·¸ì•„ì›ƒ</a>
    </nav>
</header>

<main id="main-content" role="main">
    <h2>ë°˜ê²©í•˜ê¸°</h2>
    <div class="counter-attack-container">
        <p>ë°˜ê²©í•  ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”:</p>
        <form action="{% url 'games:game_defender' pk %}" method="post">
            {% csrf_token %}
            <div id="card-selection">
                <h3 class="floating">ì¹´ë“œ ì„ íƒ</h3>
                <div id="cards">
                    {% for num in random_num %}
                        <label>
                            <div class="card">
                                <input type="radio" name="defender_card" value="{{ num }}" required> {{ num }}
                            </div>
                        </label>
                    {% endfor %}
                </div>
            </div>

            <button id="start-game-btn" class="btn">ë°˜ê²©í•˜ê¸°</button>
        </form>
    </div>


</main>


<div class="fixed-footer-text">
    ğŸ€í”¼ë¡œê·¸ë˜ë° 21ê¸° ì¹´ë“œê²Œì„ 5ì¡°ğŸ€
</div>


</body>

<script>
    // ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬
    document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('click', function () {
            // ì„ íƒëœ ì¹´ë“œì˜ ê°’ì„ ê°€ì ¸ì˜¤ê¸°
            const value = this.querySelector('input').value;

            // ëª¨ë“  ì¹´ë“œì—ì„œ 'selected' í´ë˜ìŠ¤ë¥¼ ì œê±°
            document.querySelectorAll('.card').forEach(c => c.classList.remove('selected'));

            // ì„ íƒëœ ì¹´ë“œì— 'selected' í´ë˜ìŠ¤ ì¶”ê°€
            this.classList.add('selected');

            // ì„ íƒëœ ë¼ë””ì˜¤ ë²„íŠ¼ ì²´í¬
            this.querySelector('input').checked = true;
        });
    });
</script>
</html>
