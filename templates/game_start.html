{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê²Œì„ ì‹œì‘</title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="stylesheet" href="https://webfontworld.github.io/tmoney/TmoneyRoundWind.css">
    <style>
        /* ë¼ë””ì˜¤ ë²„íŠ¼ì„ ìˆ¨ê¹ë‹ˆë‹¤ */
        input[type="radio"] {
            display: none;
        }

        #opponent-selection {
            margin-top: 15px;
            margin-left: 250px;
            margin-bottom: 55px;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            width: 300px;
            text-align: center;
             position: relative; /* í™”ì‚´í‘œì™€ì˜ ì •ë ¬ì„ ìœ„í•´ position ì¶”ê°€ */

        }

        #opponent-selection h3 {
            margin: 0 0 20px;
            color: #333;
            font-size: 24px;
            font-weight: 600;
        }

        /* ì…€ë ‰íŠ¸ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        #opponent-list {
            appearance: none; /* ê¸°ë³¸ ë¸Œë¼ìš°ì € ìŠ¤íƒ€ì¼ ì œê±° */
            -webkit-appearance: none; /* Safari ë° Chromeì˜ ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì œê±° */
            -moz-appearance: none; /* Firefoxì˜ ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì œê±° */
            background: #fff;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 10px 40px 10px 15px; /* ì˜¤ë¥¸ìª½ íŒ¨ë”©ì„ ë” ì£¼ì–´ í™”ì‚´í‘œì™€ í…ìŠ¤íŠ¸ ì‚¬ì´ì— ê³µê°„ì„ ë§Œë“­ë‹ˆë‹¤. */
            font-size: 16px;
            color: #333;
            width: 100%;
            cursor: pointer;
            outline: none;
            transition: border-color 0.3s;
            position: relative;
        }

        /* ì„ íƒëœ ì˜µì…˜ ë°•ìŠ¤ì— ëŒ€í•œ ìŠ¤íƒ€ì¼ */
        #opponent-list:focus {
            border-color: #007bff;
            box-shadow: 0 0 0 2px rgba(38, 143, 255, 0.2);
        }

        /* ë“œë¡­ë‹¤ìš´ í™”ì‚´í‘œ ì»¤ìŠ¤í„°ë§ˆì´ì§• */
        #opponent-list::-ms-expand {
            display: none; /* IEì—ì„œ ë“œë¡­ë‹¤ìš´ í™”ì‚´í‘œ ì œê±° */
        }

        /* ë“œë¡­ë‹¤ìš´ í™”ì‚´í‘œ ì¶”ê°€ */
        #opponent-list::after {
            content: 'â–¼'; /* ì»¤ìŠ¤í…€ í™”ì‚´í‘œ ê¸°í˜¸ */
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            font-size: 14px;
            color: #333;
        }
    </style>
</head>
<body>

<header>
    <div>
        <a href="/" style="text-decoration: none; color: white">
            <h1 class="floating">ğŸ•¹ï¸ ê²Œì„ ì‹œì‘ ğŸ‡</h1>
        </a>
    </div>
    <nav id="main-nav">
        <a href="{% url 'games:main' %}" class="btn">í™ˆ</a>
        <a href="{% url 'games:game_attack' %}" class="btn">ê²Œì„ ì‹œì‘</a>
        <a href="{% url 'games:game_list' %}" class="btn">ê²Œì„ ì „ì </a>
        <a href="{% url 'games:game_rank' %}" class="btn">ë­í‚¹</a>
        <a href="{% url 'users:logout' %}" class="btn" onclick="GameApp.logout(); return false;">ë¡œê·¸ì•„ì›ƒ</a>
    </nav>
</header>

<main id="main-content" role="main">
    <div id="game-start">
        <h2>ê²Œì„ ì‹œì‘</h2>
        <form action="{% url 'games:game_attack' %}" method="post">
            {% csrf_token %}
            <div id="card-selection">
                <h3 class="floating">ì¹´ë“œ ì„ íƒ</h3>
                <div id="cards">
                    {% for num in random_num %}
                        <label>
                            <div class="card">

                                <input type="radio" name="attacker_card"

                                       value="{{ num }}" required> {{ num }}
                            </div>
                        </label>
                    {% endfor %}
                </div>
            </div>
        
            <div id="opponent-selection">
                <h3>ìƒëŒ€ ì„ íƒ</h3>
                <select id="opponent-list" name="opponent" required>
                    <option value="">ìƒëŒ€ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                    {% for user in users %}
                        <option value="{{ user.id }}">{{ user.username }}</option>
                    {% endfor %}
                </select>
            </div>
            <button id="start-game-btn" class="btn">ê²°íˆ¬ ì‹ ì²­</button>
        </form>
    </div>
</main>

<div class="fixed-footer-text">
    ğŸ€í”¼ë¡œê·¸ë˜ë° 21ê¸° ì¹´ë“œê²Œì„ 5ì¡°ğŸ€
</div>

</body>
<script>
    // ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸ ì²˜ë¦¬
    document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('click', function () {
            // ì„ íƒëœ ì¹´ë“œì˜ ê°’ì„ ê°€ì ¸ì˜¤ê¸°
            const value = this.querySelector('input').value;

            // ëª¨ë“  ì¹´ë“œì—ì„œ 'selected' í´ë˜ìŠ¤ë¥¼ ì œê±°
            document.querySelectorAll('.card').forEach(c => c.classList.remove('selected'));

            // ì„ íƒëœ ì¹´ë“œì— 'selected' í´ë˜ìŠ¤ ì¶”ê°€
            this.classList.add('selected');

            // ì„ íƒëœ ë¼ë””ì˜¤ ë²„íŠ¼ ì²´í¬
            this.querySelector('input').checked = true;
        });
    });
</script>
</html>
